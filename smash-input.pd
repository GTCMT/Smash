#N canvas 94 22 1011 768 10;
#N canvas 235 74 861 559 pitchShifter 0;
#X obj 92 368 *~;
#X obj 215 305 line~;
#X floatatom 247 122 0 0 0 0 - - -;
#X text 78 19 PITCH SHIFTER;
#X obj 215 279 pack 0 200;
#X obj 247 96 r window;
#X obj 29 153 exp;
#X floatatom 29 179 6 0 0 0 - - -;
#X obj 29 269 /;
#X obj 156 199 * 0.001;
#X obj 324 375 line~;
#X obj 324 350 pack 0 200;
#X floatatom 324 299 0 0 0 0 - - -;
#X obj 324 273 r delay;
#X obj 92 394 +~;
#X obj 29 420 cos~;
#X obj 29 447 *~;
#X obj 29 476 +~;
#X obj 116 327 wrap~;
#X obj 261 370 *~;
#X obj 261 403 +~;
#X obj 198 430 cos~;
#X obj 198 457 *~;
#X obj 502 40 loadbang;
#X obj 156 226 t b f;
#X floatatom 29 295 6 0 0 0 - - -;
#X obj 116 300 +~ 0.5;
#X obj 29 368 -~ 0.5;
#X obj 29 394 *~ 0.5;
#X obj 198 369 -~ 0.5;
#X obj 198 402 *~ 0.5;
#X obj 29 206 - 1;
#X obj 29 127 * 0.05776;
#X obj 29 232 * -1;
#X text 92 173 speed;
#X text 91 187 change;
#X text 291 121 <--window (msec);
#X text 64 262 tape head;
#X text 435 163 This is a classic rotating-tape-head style pitch shifter
using the vd~ variable delay object. Ther are two moving tape heads
\, each of which is loudest at the middle of its trajectory \, and
enveloped out at the moment it has to jump back (or forward) to start
another scratch. Most of the brain work is in computing how fast the
tape heads have to move to get the desired transposition.;
#X text 435 282 The "window size" is the total trajectory of the read
points in the delay line \, in milliseconds. The delay times are controlled
by a phasor~ object. The second delay time \, 180 degrees out of phase
from the first one \, is computed using the "wrap" object.;
#X text 433 372 The "window size" is the total trajectory of the read
points in the delay line \, in milliseconds. The delay times are controlled
by a phasor~ object. The second delay time \, 180 degrees out of phase
from the first one \, is computed using the "wrap" object.;
#X text 432 464 The cos~ objects compute the fadein and fadeout of
the two delay line outputs. They each traverse the positive half of
the cosine waveform (phase -0.25 to +0.25) over the time the phase
goes from one end to the other.;
#X obj 29 326 phasor~;
#X text 699 544 updated for Pd version 0.37-1;
#X obj 324 326 max 1.5;
#X text 327 232 delay;
#X text 324 250 (msec);
#X obj 247 149 max 1;
#X text 65 275 rotation freq;
#X obj 272 16 inlet~;
#X obj 30 517 outlet~;
#X msg 502 66 \; window 5 \; delay 0;
#X obj 29 70 inlet;
#X obj 92 420 vd~ \$1-del;
#X obj 261 432 vd~ \$1-del;
#X obj 274 52 delwrite~ \$1-del 250;
#X connect 0 0 14 0;
#X connect 1 0 0 1;
#X connect 1 0 19 1;
#X connect 2 0 47 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 7 0 31 0;
#X connect 8 0 25 0;
#X connect 9 0 24 0;
#X connect 10 0 14 1;
#X connect 10 0 20 1;
#X connect 11 0 10 0;
#X connect 12 0 44 0;
#X connect 13 0 12 0;
#X connect 14 0 53 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 50 0;
#X connect 18 0 19 0;
#X connect 18 0 29 0;
#X connect 19 0 20 0;
#X connect 20 0 54 0;
#X connect 21 0 22 0;
#X connect 22 0 17 1;
#X connect 23 0 51 0;
#X connect 24 0 8 0;
#X connect 24 1 8 1;
#X connect 25 0 42 0;
#X connect 26 0 18 0;
#X connect 27 0 28 0;
#X connect 28 0 15 0;
#X connect 29 0 30 0;
#X connect 30 0 21 0;
#X connect 31 0 33 0;
#X connect 32 0 6 0;
#X connect 33 0 8 0;
#X connect 42 0 0 0;
#X connect 42 0 27 0;
#X connect 42 0 26 0;
#X connect 44 0 11 0;
#X connect 47 0 9 0;
#X connect 47 0 4 0;
#X connect 49 0 55 0;
#X connect 52 0 32 0;
#X connect 53 0 16 1;
#X connect 54 0 22 1;
#X restore 82 149 pd pitchShifter;
#X obj 111 446 vcf~;
#X obj 80 545 +~;
#X obj 82 319 /~ 2;
#X obj 111 514 *~;
#X obj 82 267 compressor~;
#X obj 145 243 / 100;
#X obj 169 96 drown~ 0.001 0.1 4 1;
#X obj 169 32 inlet~;
#X obj 837 1 cnv 15 300 250 empty empty empty 20 12 0 14 -228856 -66577
0;
#X msg 855 160 clear;
#X msg 932 91 normalize \$1;
#X msg 939 115 variance;
#X msg 967 161 order_attributes;
#X text 856 8 General timbreID settings;
#X msg 979 184 attribute_range 0 94;
#X obj 945 66 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 951 138 attribute_range 0 46;
#X obj 80 676 outlet~;
#N canvas 146 22 573 685 timbre-sub 0;
#X obj 232 245 s zero_phase;
#X floatatom 149 595 5 0 0 0 - - -;
#X obj 124 551 timbreID;
#X obj 226 169 * 1000;
#X msg 178 306 window \$1;
#X text 194 548 <--third inlet is specifically designed for taking
concatenative synthesis identification reqests. See timbreID help file
for function of all inlets/outlets.;
#X obj 226 77 r synth-window-size;
#X obj 241 97 r synth-overlap;
#X obj 178 285 r synth-window-size;
#X obj 191 332 r lb1;
#X msg 191 353 normalize 0;
#X obj 226 127 /;
#X obj 144 254 metro;
#X obj 232 225 t b;
#X msg 282 491 print;
#X obj 124 390 bfcc~ 1024 1;
#X obj 287 319 loadbang;
#X obj 226 148 / 48000;
#X msg 287 348 overlap 8;
#X obj 124 15 inlet~;
#X obj 372 111 samplerate~;
#X obj 372 76 r reset;
#X obj 99 456 r \$1-tID;
#X obj 124 625 s \$1-index;
#X obj 144 160 r \$1-analyze;
#X connect 2 0 1 0;
#X connect 2 0 23 0;
#X connect 3 0 12 1;
#X connect 4 0 15 0;
#X connect 6 0 11 0;
#X connect 7 0 11 1;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 11 0 17 0;
#X connect 12 0 15 0;
#X connect 13 0 0 0;
#X connect 14 0 2 0;
#X connect 15 0 2 2;
#X connect 16 0 18 0;
#X connect 17 0 3 0;
#X connect 18 0 15 0;
#X connect 19 0 15 0;
#X connect 20 0 17 1;
#X connect 21 0 20 0;
#X connect 22 0 2 0;
#X connect 24 0 13 0;
#X connect 24 0 12 0;
#X restore 122 617 pd timbre-sub;
#X obj 909 215 s \$1-tID;
#X obj 78 14 r \$1-transpose;
#X obj 227 -15 r \$1-noise_thresh;
#X obj 239 19 sssad/sssad \$1-noise_thresh;
#X obj 239 43 s \$1-noise-thresh-set;
#X obj 415 34 r \$1-noise_gain;
#X obj 326 103 sssad/sssad \$1-noise_gain;
#X obj 326 125 s \$1-noise-gain-set;
#X obj 145 198 r \$1-compressRange_in;
#X obj 184 240 sssad/sssad \$1-compressRange_in;
#X obj 184 262 s \$1-compressRange_int-set;
#X obj 121 298 r \$1-F0_BPF_in;
#X obj 136 335 sssad/sssad \$1-F0_BPF_in;
#X obj 136 358 s \$1-F0-bpf-in-set;
#X obj 132 381 r \$1-Q_BPF_in;
#X obj 145 420 sssad/sssad \$1-Q_BPF_in;
#X obj 145 445 s \$1-Q-bpf-in-set;
#X obj 126 471 r \$1-gain_BPF_in;
#X obj 141 507 sssad/sssad \$1-gain_BPF_in;
#X obj 141 534 s \$1-gain-bpf-in-set;
#X obj 932 41 r \$1-normalize;
#X floatatom 460 391 5 0 0 0 - - -;
#X floatatom 362 379 5 0 0 0 - - -;
#X obj 411 252 env~ 512;
#X obj 411 290 * 2.5;
#X obj 475 293 r \$1-transpose_base;
#X obj 460 469 s \$1-transpose;
#X obj 525 367 sssad/sssad \$1-transpose_base;
#X obj 525 396 s \$1-transpose_base-set;
#X obj 411 227 *~ 1;
#X obj 493 167 r \$1-env_pitch_shift;
#X floatatom 106 90 5 0 0 0 - - -;
#X obj 460 440 spigot;
#X obj 655 200 r \$1-pitchRange;
#X obj 508 230 sssad/sssad \$1-pitchRange;
#X obj 508 252 s \$1-pitchRange-set;
#X obj 460 339 +;
#N canvas 416 130 672 573 gestureRec 0;
#X obj 154 196 timbreID;
#X obj 221 187 print cluster;
#N canvas 556 196 745 426 onsets 0;
#X obj 54 -36 inlet~;
#X obj 54 238 outlet;
#X text 76 114 Delay the bang to bfcc~ by 1/2 the analysis period to
fill the window with a good portion of immediately post-onset sound.
;
#X obj 1 -85 cnv 10 400 10 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 1 -85 cnv 10 10 400 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 54 46 bark~;
#X obj 86 84 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 334 203 loadbang;
#X obj 79 7 r bark-settings;
#X text 256 -36 timbreID comes with its own onset detection object:
bark~. See its helpfile for more details. In comparison with bonk~
(the usual onset detection object in Pd) \, bark~ performs very similarly
but has several extra conveniences. Most importantly \, there is a
non-real-time version of the object \, enabling easy parsing of pre-recorded
audio.;
#X msg 157 59 thresh -1 12;
#X msg 334 225 \; bark-settings minvel 50 \; bark-settings debounce
100 \; bark-settings thresh -1 12 \;;
#X obj 54 174 del 0.5;
#X msg 158 31 debounce 20;
#X connect 0 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 12 0;
#X connect 7 0 11 0;
#X connect 8 0 5 0;
#X connect 10 0 5 0;
#X connect 12 0 1 0;
#X connect 13 0 5 0;
#X restore 135 42 pd onsets;
#X obj 198 65 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 109 97 list split 1;
#X obj 115 150 spigot;
#X obj 163 153 tgl 15 0 empty empty train 17 7 0 12 -262144 -1 -1 0
1;
#X obj 221 148 spigot;
#X obj 274 155 tgl 15 0 empty empty id 17 7 0 12 -262144 -1 -1 0 1
;
#X obj 143 124 list split 20;
#X obj 111 219 sel 0;
#X obj 177 223 sel 1;
#X floatatom 113 262 5 0 0 0 - - -;
#X obj 117 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 183 244 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 178 268 5 0 0 0 - - -;
#X obj 109 72 bfcc~ 8192 1;
#X obj 110 11 inlet~;
#X obj 341 43 r \$1-trainGest;
#X obj 447 43 r \$1-idGest;
#X obj 225 253 r \$1-basePitch2;
#X obj 252 364 sssad/sssad \$1-basePitch2;
#X obj 251 394 s \$1-basePitch2-set;
#X obj 48 144 r \$1-tID;
#X obj 13 219 r \$1-basePitch1;
#X obj 26 386 sssad/sssad \$1-basePitch1;
#X obj 25 416 s \$1-basePitch1-set;
#X obj 133 324 s \$1-transpose_base;
#X connect 0 0 10 0;
#X connect 0 0 11 0;
#X connect 0 3 1 0;
#X connect 2 0 3 0;
#X connect 2 0 16 0;
#X connect 4 1 9 0;
#X connect 5 0 0 0;
#X connect 6 0 5 1;
#X connect 7 0 0 1;
#X connect 8 0 7 1;
#X connect 9 0 5 0;
#X connect 9 0 7 0;
#X connect 10 0 13 0;
#X connect 11 0 14 0;
#X connect 12 0 27 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 27 0;
#X connect 16 0 4 0;
#X connect 17 0 2 0;
#X connect 17 0 16 0;
#X connect 18 0 6 0;
#X connect 19 0 8 0;
#X connect 20 0 15 0;
#X connect 20 0 21 1;
#X connect 21 0 22 0;
#X connect 23 0 0 0;
#X connect 24 0 12 0;
#X connect 24 0 25 1;
#X connect 25 0 26 0;
#X restore 385 564 pd gestureRec;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 18 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 2 1;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 7 0 0 1;
#X connect 7 0 49 0;
#X connect 8 0 7 0;
#X connect 8 0 57 0;
#X connect 10 0 20 0;
#X connect 11 0 20 0;
#X connect 12 0 20 0;
#X connect 13 0 20 0;
#X connect 15 0 20 0;
#X connect 17 0 20 0;
#X connect 21 0 0 0;
#X connect 21 0 51 0;
#X connect 22 0 7 1;
#X connect 22 0 23 1;
#X connect 23 0 24 0;
#X connect 25 0 7 2;
#X connect 25 0 26 1;
#X connect 26 0 27 0;
#X connect 28 0 6 0;
#X connect 28 0 29 1;
#X connect 29 0 30 0;
#X connect 31 0 1 1;
#X connect 31 0 32 1;
#X connect 32 0 33 0;
#X connect 34 0 1 2;
#X connect 34 0 35 1;
#X connect 35 0 36 0;
#X connect 37 0 4 1;
#X connect 37 0 38 1;
#X connect 38 0 39 0;
#X connect 40 0 16 0;
#X connect 40 0 11 0;
#X connect 41 0 52 0;
#X connect 43 0 42 0;
#X connect 43 0 44 0;
#X connect 44 0 56 0;
#X connect 45 0 47 1;
#X connect 45 0 56 1;
#X connect 47 0 48 0;
#X connect 49 0 43 0;
#X connect 50 0 49 1;
#X connect 50 0 52 1;
#X connect 52 0 46 0;
#X connect 53 0 54 1;
#X connect 53 0 44 1;
#X connect 54 0 55 0;
#X connect 56 0 41 0;
